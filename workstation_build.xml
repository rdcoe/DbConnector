<?xml version="1.0" encoding="UTF-8"?>

<project name="prepublish" basedir="." default="import.dists">
    <property name="common.dir" value="../Common" />
    <property name="common_dist" value="${common.dir}/dist" />

    <target name="clean">
        <delete dir="${rcoelib.dir}" failonerror="false"/>
        <mkdir dir="${rcoelib.dir}" />
    </target>

    <target name="import.dists" depends="clean">
        <echo>importing distributables from dependent project(s)</echo>
        <copy verbose="true"
              todir="${basedir}"
              failonerror="true"
              flatten="true"
              overwrite="true"
              file="${common.dir}/version.xml">
        </copy>

        <copy verbose="true"
              todir="${rcoelib.dir}"
              failonerror="true"
              flatten="true"
              overwrite="true">
            <fileset dir="${common_dist}" />
        </copy>
    </target>
</project>